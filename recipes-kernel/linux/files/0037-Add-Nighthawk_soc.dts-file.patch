From 61eb230acf1da06a13fc53a6a88f00adea5528f3 Mon Sep 17 00:00:00 2001
From: Alex Dorchak <halfdome@fluke.com>
Date: Mon, 19 Jun 2017 13:13:52 -0700
Subject: [PATCH 37/37] Add Nighthawk_soc.dts file

---
 arch/arm/boot/dts/Nighthawk_soc.dts | 236 ++++++++++++++++++++++++++++++++++++
 1 file changed, 236 insertions(+)
 create mode 100644 arch/arm/boot/dts/Nighthawk_soc.dts

diff --git a/arch/arm/boot/dts/Nighthawk_soc.dts b/arch/arm/boot/dts/Nighthawk_soc.dts
new file mode 100644
index 0000000..f3f290b
--- /dev/null
+++ b/arch/arm/boot/dts/Nighthawk_soc.dts
@@ -0,0 +1,236 @@
+/*
+ * This devicetree is generated by sopc2dts version 15.1 [94267f754b718da09506aebbe5343be8fdba1582] on Thu May 04 12:59:35 PDT 2017
+ * Sopc2dts is written by Walter Goossens <waltergoossens@home.nl>
+ * in cooperation with the nios2 community <nios2-dev@lists.rocketboards.org>
+ */
+#include "socfpga_cyclone5.dtsi"
+
+/ {
+	model = "Altera SOCFPGA Cyclone V";	/* appended from boardinfo */
+	compatible = "altr,socfpga-cyclone5", "altr,socfpga";	/* appended from boardinfo */
+
+    chosen {
+        bootargs = "earlyprintk";
+        stdout-path = "serial0:115200n8";
+    };
+
+	memory {
+        name = "memory";
+		device_type = "memory";
+		reg = <0x00000000 0x80000000>;
+	}; //end memory
+
+	aliases {
+		serial0 = "&uart0";
+		serial1 = "&uart1";
+		serial2 = "&uart2";
+		ethernet0 = "&gmac1";
+		ethernet1 = "&gmac0";
+		spi0 = "&spi0";
+	}; //end aliases
+
+	clocks {
+		#address-cells = <1>;
+		#size-cells = <1>;
+
+		clk_0: clk_0 {
+			compatible = "fixed-clock";
+			#clock-cells = <0>;
+			clock-frequency = <60000000>;	/* 60.00 MHz */
+			clock-output-names = "clk_0-clk";
+		}; //end clk_0 (clk_0)
+
+		Nighthawk_FPGA_IO_HPS_CLK: Nighthawk_FPGA_IO_HPS_CLK {
+			compatible = "fixed-clock";
+			#clock-cells = <0>;
+			clock-frequency = <60000000>;	/* 60.00 MHz */
+			clock-output-names = "Nighthawk_FPGA_IO_HPS_CLK-clk";
+		}; //end Nighthawk_FPGA_IO_HPS_CLK (Nighthawk_FPGA_IO_HPS_CLK)
+
+	}; //end clocks
+};
+
+&gmac0 {
+    status = "okay";
+    phy-mode = "rgmii";
+    snps,phy-addr = < 0xFFFFFFFF >;
+    phy-addr = < 0xFFFFFFFF >;
+
+    rxd0-skew-ps = <0>;
+    rxd1-skew-ps = <0>;
+    rxd2-skew-ps = <0>;
+    rxd3-skew-ps = <0>;
+    txen-skew-ps = <0>;
+    txc-skew-ps = <3000>;
+    rxdv-skew-ps = <0>;
+    rxc-skew-ps = <3000>;
+    max-frame-size = <3800>;
+    tx-fifo-depth = <4096>;	/* embeddedsw.dts.params.tx-fifo-depth type NUMBER */
+	rx-fifo-depth = <4096>;	/* embeddedsw.dts.params.rx-fifo-depth type NUMBER */
+    altr,emac-splitter = <&hps_emac_interface_splitter_0>;	/* appended from boardinfo */
+};
+
+&gmac1 {
+    status = "okay";
+    phy-mode = "rgmii";
+    snps,phy-addr = < 0xFFFFFFFF >;
+    phy-addr = < 0xFFFFFFFF >;
+
+    rxd0-skew-ps = <0>;
+    rxd1-skew-ps = <0>;
+    rxd2-skew-ps = <0>;
+    rxd3-skew-ps = <0>;
+    txen-skew-ps = <0>;
+    txc-skew-ps = <3000>;
+    rxdv-skew-ps = <0>;
+    rxc-skew-ps = <3000>;
+    max-frame-size = <3800>;
+    tx-fifo-depth = <4096>;	/* embeddedsw.dts.params.tx-fifo-depth type NUMBER */
+	rx-fifo-depth = <4096>;	/* embeddedsw.dts.params.rx-fifo-depth type NUMBER */
+};
+
+&mmc0 {
+    status = "disabled"
+}
+
+
+&i2c0 {
+    status = "ok";
+    speed-mode = <0>;
+
+    mac_eeprom: {
+        compatible = "atmel,24mac402";
+        reg = <0x00000050>;
+        pagesize = <16>;	/* appended from boardinfo */
+    }; //end atmel,24mac402@0x50 (mac_eeprom)
+
+    eeprom: {
+        compatible = "atmel,24c32";
+        reg = <0x00000051>;
+        pagesize = <32>;	/* appended from boardinfo */
+    }; //end atmel,24c32@0x51 (eeprom)
+}; //end i2c@0xffc04000 (hps_0_i2c0)
+
+&i2c1: i2c@0xffc05000 {
+    status = "ok";
+    speed-mode = <0>;
+
+    rtc: rtc,pcf8563@0x51 {
+        compatible = "rtc,pcf8563";
+        reg = <0x00000051>;
+    }; //end rtc,pcf8563@0x51 (rtc)
+}; //end i2c@0xffc05000 (hps_0_i2c1)
+
+&spi0 {
+    #address-cells = < 1 >;  
+    #size-cells = < 0 >;  
+    bus-num = < 0 >;   
+    num-chipselect = < 4 >;  
+    status = "okay";   
+
+    temp@1 {
+        compatible = "hwmon,adt7302";
+        reg = < 1 >;  
+        spi-max-frequency = < 100000000 >; 
+		spi-cpha = <1>;	/* appended from boardinfo */
+		spi-cpol = <1>;	/* appended from boardinfo */
+        enable-dma = < 1 >; 
+    };
+
+    spidev@0 {
+        compatible = "spidev";
+        reg = < 0 >;
+        spi-max-frequency = < 100000000 >;
+        enable-dma = < 1 >;
+    };
+};
+
+&qspi {
+    status = "okay";
+    flash0: n25q00@0 {
+        #address-cells = <1>;
+        #size-cells = <1>;
+        compatible = "n25q00";  /* appended from boardinfo */
+        reg = <0>;      /* chip select */
+        spi-max-frequency = <50000000>;
+
+        cdns,page-size = <256>;
+        cdns,block-size = <16>;
+        cdns,read-delay = <4>;
+        cdns,tshsl-ns = <50>;
+        cdns,tsd2d-ns = <50>;
+        cdns,tchsh-ns = <4>;
+        cdns,tslch-ns = <4>;
+        cdns,is-decoded-cs = <0>;
+
+        part0: partition@0 {
+                    label = "Flash 0 Raw Data"; /* appended from boardinfo */
+                    reg = < 0x00000000 0x00800000 >;    /* appended from boardinfo */
+        }; //end partition@0 (part0)
+
+        part1: partition@800000 {
+                    label = "Flash 1 jffs2 Filesystem"; /* appended from boardinfo */
+                    reg = < 0x00800000 0x03000000 >;    /* appended from boardinfo */
+        }; //end partition@800000 (part1)
+
+        part2: partition@3800000 {
+                    label = "FPGA Image";   /* appended from boardinfo */
+                    reg = < 0x03800000 0x00600000 >;    /* appended from boardinfo */
+        }; //end partition@3800000 (part2)
+
+        part3: partition@3e00000 {
+                    label = "Splash Screen Image";  /* appended from boardinfo */
+                    reg = < 0x03E00000 0x00200000 >;    /* appended from boardinfo */
+        }; //end partition@3e00000 (part3)
+    };
+
+    flash1: n25q00@1 {
+        #address-cells = <1>;
+        #size-cells = <1>;
+        compatible = "n25q00";
+        reg = <1>;      /* chip select */
+        spi-max-frequency = <50000000>;
+
+        cdns,page-size = <256>;
+        cdns,block-size = <16>;
+        cdns,read-delay = <4>;
+        cdns,tshsl-ns = <50>;
+        cdns,tsd2d-ns = <50>;
+        cdns,tchsh-ns = <4>;
+        cdns,tslch-ns = <4>;
+
+        part4: partition@0 {
+                    label = "Flash 1 Raw Data"; /* appended from boardinfo */
+                    reg = < 0x00000000 0x07000000 >;    /* appended from boardinfo */
+        }; //end partition@0 (part4)
+    }; //end n25q00@1 (flash1)
+};
+
+&uart0 {
+    status = "okay";
+};
+
+&uart1 {
+    status = "okay";
+};
+
+&usb0 {
+    status = "okay";
+};
+
+&usb1 {
+    status = "okay";
+};
+
+&gpio0 {
+    status = "okay";
+};
+
+&gpio1 {
+    status = "okay";
+};
+
+&gpio2 {
+    status = "okay";
+};
+
-- 
1.8.4.5

